(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t),n.d(t,"randomInt",(function(){return c})),n.d(t,"randomIntInRange",(function(){return u})),n.d(t,"trueWithProbabilty",(function(){return s})),n.d(t,"choose",(function(){return l})),n.d(t,"structuredClone",(function(){return b})),n.d(t,"getRandom",(function(){return d})),n.d(t,"sample",(function(){return p})),n.d(t,"stringifyTleaf",(function(){return f})),n.d(t,"stringifySpecimen",(function(){return h})),n.d(t,"chooseOne",(function(){return m})),n.d(t,"tournament",(function(){return j})),n.d(t,"specimenToCode",(function(){return y})),n.d(t,"mapSpecimenToStorable",(function(){return g}));var r=n(29),o=n(8),i=n(91),a=n(16);function c(e){return Math.floor(Math.random()*e)}function u(e,t){return c(t-e)+e}function s(e){return Math.random()<e}function l(e){return e[c(e.length)]}var b=function(e){return JSON.parse(JSON.stringify(e))};function d(e,t){return Math.random()*(t-e)+e}function p(e,t){var n=Object(a.a)(Array(t).keys()).map((function(){return c(e.length)}));return n.sort(),n.map((function(t){return e[t]}))}function f(e){return e.value.length||Number.isInteger(e.value)||"boolean"===typeof e.value?e.value:e.value.toFixed(5)}function h(e){return"T"===e.type?"".concat(f(e)):"".concat(e.name,"(").concat(e.children?e.children.map(h).join(", "):"",")")}function m(e,t){var n=Math.min.apply(Math,Object(a.a)(Object(a.a)(Array(t).keys()).map((function(){return Math.random()}))));return e[Math.floor(n*e.length)]}function j(e,t){var n,r=Object(i.a)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(s(t))return o}}catch(a){r.e(a)}finally{r.f()}return e[e.length-1]}function y(e,t,n){var i=function e(n){var i,c=n.children?n.children.map(e):null;return"T"===n.type?{code:"".concat(f(n)),functionsUsed:{}}:{code:(i=t[n.name]).toCode.apply(i,Object(a.a)(c.map((function(e){return e.code})))),functionsUsed:Object(o.a)(Object(o.a)({},(c?c.map((function(e){return e.functionsUsed})):[]).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}))),{},Object(r.a)({},n.name,1))}}(e);return"const myFunction = (".concat(n,") => ").concat(i.code,"\n").concat(Object.keys(i.functionsUsed).filter((function(e){return t[e].codeAddition})).map((function(e){return t[e].codeAddition})).join("\n"))}function g(e,t,n){return{function:h(e),fitness:e.fitness.toFixed(5),code:y(e,t,n)}}},339:function(e,t,n){"use strict";n.r(t),n.d(t,"specimenEvaluator",(function(){return o}));var r=n(16);function o(e){return function t(n,o){var i;return"F"===o.type?(i=e[o.name]).function.apply(i,Object(r.a)(o.children.map((function(e){return t(n,e)})))):function(e){var t;return null!==(t=n[e.value])&&void 0!==t?t:e.value}(o)}}},340:function(e,t,n){"use strict";n.r(t),n.d(t,"generateTree",(function(){return s})),n.d(t,"mutate",(function(){return b})),n.d(t,"crossover",(function(){return d}));var r=n(16),o=n(20),i=o.choose,a=o.structuredClone,c=o.randomInt;function u(e){return e.subNodesCount=1+(e.children?e.children.map((function(e){return u(e),e.subNodesCount})).reduce((function(e,t){return e+t})):0),e}function s(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;function c(a){var u=a===o?n:"full"===e.toLowerCase()||1===a?t:[].concat(Object(r.a)(t),Object(r.a)(n)),s=i(u);return s.arity?{type:"F",name:s.name,level:a,children:Object(r.a)(Array(s.arity)).map((function(){return c(a+1)}))}:{type:"T",value:s(),level:a}}return u(c(a))}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(0===t&&!e.children)return{node:n,childNumber:r};for(var o in e.children){var i=e.children[o];if(t<i.subNodesCount)return l(i,t,e,o);t-=i.subNodesCount}return{node:n,childNumber:r}}function b(e,t,n,r,o){var i=a(e),b=l(e,c(i.subNodesCount-1)),d=b.node,p=b.childNumber;return d.children[p]=s(t,n,r,o,d.level+1),u(e)}function d(e,t){var n=a(e),r=a(t),o=c(n.subNodesCount-1),i=c(r.subNodesCount-1),s=l(n,o),b=s.node,d=s.childNumber,p=l(r,i),f=p.node,h=p.childNumber,m=b.children[d];return b.children[d]=f.children[h],f.children[h]=m,[u(n),u(r)]}},341:function(e,t){function n(e,t,n){return t.map((function(t){return t.y-e(t,n)})).map((function(e){return e*e})).reduce((function(e,t){return e+t}))}e.exports={fitness:n,assignFitness:function(e,t,r){return r.fitness=Number(n(e,t,r).toFixed(5)),r}}},342:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n(0),i=n.n(o),a=n(12),c=n.n(a),u=(n(112),n(113),n(18)),s=n.n(u),l=n(37),b=n(49),d=n(405),p=n(410),f=n(395),h=n(409),m=n(393),j=n(402),y=n(386),g=n(392),O=n(41),v=n(406),x=n(389),S=n(408),N=n(72),w={en:{translation:n(79)},pl:{translation:n(80)}};N.a.init({resources:w,lng:"en",fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});var F=N.a,T=n(14),C=Object(y.a)((function(e){return{root:{flexGrow:1,"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},button:{padding:e.spacing(3)}}}}));var k=Object(O.b)((function(e){return{problemType:e.problemType,populationSize:e.populationSize,numberOfGenerations:e.numberOfGenerations,maxTreeDepth:e.maxTreeDepth,tournamentSize:e.tournamentSize,tournamentWinningProbability:e.tournamentWinningProbability,crossoverProbability:e.crossoverProbability,pointsRaw:e.pointsRaw,leavesRaw:e.leavesRaw,functions:e.functions,algorithmState:e.algorithmState,currentGeneration:e.currentGeneration,desiredGeneration:e.desiredGeneration,nodePenalty:e.nodePenalty}}),(function(e){return{setValue:function(t,n){return e({type:"INPUT_CHANGE",value:n,field:t})},setFunction:function(t){return e({type:"SET_FUNCTION",name:t.target.name,value:t.target.checked})},resetAlgorithmState:function(){return e({type:"SET_ALGORITHM_STATE",value:"BEFORE_RUN"})},setDesiredGeneration:function(t){return e({type:"SET_DESIRED_GENERAION",value:t})}}}))((function(e){var t=e.algorithm,n=e.problemType,i=e.populationSize,a=(e.numberOfGenerations,e.maxTreeDepth),c=e.tournamentSize,u=(e.tournamentWinningProbability,e.crossoverProbability),y=e.pointsRaw,O=e.leavesRaw,N=e.setValue,w=e.functions,k=e.setFunction,G=e.algorithmState,P=e.resetAlgorithmState,R=e.currentGeneration,E=e.setDesiredGeneration,z=e.desiredGeneration,_=e.nodePenalty,M=Object(T.f)().lang;F.changeLanguage(M);var A=C(),B=Object(o.useState)(5),I=Object(b.a)(B,2),U=I[0],D=I[1],L=function(e){return e[0].toUpperCase()+e.slice(1)},W=Object(o.useCallback)(Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"BEFORE_RUN"!==G?t.createNextGeneration():t.startAndCreateFirstGeneration();case 1:case"end":return e.stop()}}),e)}))),[t,G]),q=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(Number(z)+1),W();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(Number(z)+Number(U)),W();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(),E(0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){setTimeout((function(){Number(R)<Number(z)&&W()}),0)}),[W,R,z]),Object(o.useEffect)((function(){document.title=F.t("title")}),[]),Object(r.jsxs)("form",{className:A.root,noValidate:!0,autoComplete:"off",children:[Object(r.jsxs)(x.a,{container:!0,spacing:2,children:[Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(S.a,{title:F.t("createFirstGeneration_tooltip"),arrow:!0,placement:"right",children:Object(r.jsx)(g.a,{className:A.button,variant:"contained",color:"primary",onClick:function(){E(1),t.startAndCreateFirstGeneration()},children:F.t("createFirstGeneration")})})}),Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(S.a,{title:F.t("createNextGeneration_tooltip"),arrow:!0,placement:"right",children:Object(r.jsx)(g.a,{className:A.button,variant:"contained",color:"primary",onClick:q,children:F.t("createNextGeneration")})})}),Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(S.a,{title:F.t("runNGenerations_tooltip"),arrow:!0,placement:"right",children:Object(r.jsx)(g.a,{className:A.button,variant:"contained",color:"primary",onClick:V,children:F.t("runNGenerations",{number:U})})})}),Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(j.a,{label:F.t("numberOfGenerationsToRun"),type:"number",value:U,onChange:function(e){return D(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined"})}),Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(S.a,{title:F.t("restart_tooltip"),arrow:!0,placement:"right",children:Object(r.jsx)(g.a,{className:A.button,variant:"contained",color:"primary",onClick:J,children:F.t("restart")})})})]}),Object(r.jsxs)(x.a,{container:!0,spacing:1,children:[[{name:"populationSize",value:i,stateField:"populationSize",disabled:"BEFORE_RUN"!==G,step:1e3,min:100},{name:"maxTreeDepth",value:a,stateField:"maxTreeDepth",disabled:"BEFORE_RUN"!==G,step:1,min:2},{name:"tournamentSize",value:c,stateField:"tournamentSize",disabled:!1,step:10,min:1},{name:"crossoverProbability",value:u,stateField:"crossoverProbability",disabled:!1,step:.1,min:0,max:1},{name:"nodePenalty",value:_,stateField:"nodePenalty",disabled:!1,step:.05,min:0,max:1}].map((function(e){var t=e.name,n=e.value,o=e.stateField,i=e.disabled,a=e.step,c=e.min,u=e.max;return Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(S.a,{title:F.t(t+"_tooltip"),arrow:!0,placement:"right",children:Object(r.jsx)(j.a,{id:t,label:F.t(t),type:"number",value:n,onChange:function(e){return N(o,Number(e.target.value))},InputLabelProps:{shrink:!0},variant:"outlined",disabled:i,inputProps:{step:a,min:c,max:u}},t)})})})),Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(j.a,{id:"points",label:F.t("pointsWithInfo"),multiline:!0,rows:10,value:y,variant:"outlined",onChange:function(e){return N("pointsRaw",e.target.value)}})}),Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(j.a,{id:"leaves",label:F.t("possibleLeaves"),multiline:!0,rows:10,value:"boolean"===n?"true, false":O,variant:"outlined",onChange:function(e){return N("leavesRaw",e.target.value)},disabled:"boolean"===n})})]}),Object(r.jsxs)(x.a,{container:!0,spacing:1,children:[Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsxs)(h.a,{component:"fieldset",children:[Object(r.jsx)(m.a,{component:"legend",children:F.t("problemType")}),Object(r.jsx)(p.a,{"aria-label":"problem-type",name:"problem-type",value:n,onChange:function(e){return N("problemType",e.target.value)},children:["real","integer","boolean"].map((function(e){return Object(r.jsx)(f.a,{value:e,control:Object(r.jsx)(d.a,{disabled:"BEFORE_RUN"!==G}),label:L(F.t(e))},e)}))})]})}),Object(r.jsx)(x.a,{item:!0,xs:12,children:Object(r.jsx)(h.a,{component:"fieldset",children:Object.keys(w).map((function(e){return Object(r.jsx)(f.a,{control:Object(r.jsx)(v.a,{checked:w[e],name:e,onChange:function(e){k(e)},disabled:"BEFORE_RUN"!==G},e),label:e})}))})})]})]})})),G=n(399),P=n(401),R=n(397),E=n(398),z=n(400),_=n(396),M=n(394),A=n(343),B=n(404),I=Object(y.a)({table:{}});var U=Object(O.b)((function(e){return{generation:e.currentGeneration,bestSpecimens:e.bestSpecimens,bestSpecimen:e.bestSpecimen,desiredGeneration:e.desiredGeneration,algorithmState:e.algorithmState}}),(function(e){return{}}))((function(e){var t=e.generation,n=e.bestSpecimens,i=e.bestSpecimen,a=e.desiredGeneration,c=e.algorithmState,u=Object(T.f)().lang;F.changeLanguage(u);var s=I(),l=Object(o.useState)(null===i||void 0===i?void 0:i.code),d=Object(b.a)(l,2),p=d[0],f=d[1],h=function(e,t,n){return Object(r.jsxs)(_.a,{children:[Object(r.jsx)(R.a,{component:"th",scope:"row",align:"right",children:n||t+1}),Object(r.jsx)(R.a,{align:"right",children:Object(r.jsx)(A.a,{children:e.function})}),Object(r.jsx)(R.a,{align:"right",children:e.fitness}),Object(r.jsx)(R.a,{align:"right",children:Object(r.jsx)(g.a,{variant:"contained",color:"primary",onClick:function(){return f(e.code)},children:F.t("showCode")})})]},t)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("h1",{children:[F.t("generation"),":",t>0?t<a?" ".concat(t," / ").concat(t<=a?a:t):" ".concat(t):""]}),Object(r.jsx)("h2",{children:t>0&&"BEFORE_RUN"===c?F.t("willBeRestarted"):""}),p||(null===i||void 0===i?void 0:i.code)?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Code:"}),Object(r.jsx)(B.a,{language:"javascript",lineProps:{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"}},wrapLines:!0,children:p||(null===i||void 0===i?void 0:i.code)})]}):Object(r.jsx)(r.Fragment,{}),Object(r.jsx)(E.a,{component:M.a,children:Object(r.jsxs)(G.a,{className:s.table,"aria-label":"simple table",children:[(i?[i]:[]).map((function(e,t){return h(e,t,F.t("globalBest"))})),Object(r.jsx)(z.a,{children:Object(r.jsxs)(_.a,{children:[Object(r.jsx)(R.a,{align:"right",children:F.t("number")}),Object(r.jsx)(R.a,{align:"right",children:F.t("function")}),Object(r.jsx)(R.a,{align:"right",children:F.t("errorSquared")}),Object(r.jsx)(R.a,{align:"right",children:F.t("showCode")})]})}),Object(r.jsx)(P.a,{children:n.map((function(e,t){return h(e,t)}))})]})})]})}));var D=Object(O.b)((function(e){return{problemType:e.problemType,populationSize:e.populationSize,numberOfGenerations:e.numberOfGenerations,maxTreeDepth:e.maxTreeDepth,tournamentSize:e.tournamentSize,tournamentWinningProbability:e.tournamentWinningProbability,crossoverProbability:e.crossoverProbability,pointsRaw:e.pointsRaw,leavesRaw:e.leavesRaw,functions:e.functions,nodePenalty:e.nodePenalty}}),(function(e){return{setFunctions:function(t){return e({type:"SET_FUNCTIONS",functions:t})},setAlgorithmState:function(t){return e({type:"SET_ALGORITHM_STATE",value:t})},setCurrentGeneration:function(t){return e({type:"SET_CURRENT_GENERATION",value:t})},setBestSpecimens:function(t){return e({type:"SET_BEST_SPECIMENS",value:t})},setBestSpecimen:function(t){return e({type:"SET_BEST_SPECIMEN",value:t})}}}))((function(e){var t=e.algorithm,n=e.problemType,o=e.populationSize,i=e.numberOfGenerations,a=e.maxTreeDepth,c=e.tournamentSize,u=e.tournamentWinningProbability,s=e.crossoverProbability,l=e.pointsRaw,b=e.leavesRaw,d=e.setFunctions,p=e.functions,f=e.setAlgorithmState,h=e.setCurrentGeneration,m=e.setBestSpecimens,j=e.setBestSpecimen,y=e.nodePenalty;return t.setProperty("populationSize",Number(o)),t.setProperty("numberOfGenerations",Number(i)),t.setProperty("maxTreeDepth",Number(a)),t.setProperty("tournamentSize",Number(c)),t.setProperty("tournamentWinningProbability",Number(u)),t.setProperty("crossoverProbability",Number(s)),t.setProperty("pointsRaw",l),t.setProperty("leavesRaw",b),t.setProperty("nodePenalty",y),0!==Object.keys(p).length?t.setUserSelectedFunctions(p):d(t.getUserSelectedFunctions()),console.log(n,t.problemType),console.log(n!==t.problemType),n!==t.problemType&&(t.setProperty("problemType",n),d(t.getUserSelectedFunctions())),t.setReduxSetters({setAlgorithmState:f,setCurrentGeneration:h,setBestSpecimens:m,setBestSpecimen:j}),Object(r.jsx)(r.Fragment,{})})),L=n(16),W=n(8),q=n(29),V=n(89),J=n(90),H=n(20),X=function(e,t){return 0!==t?e/t:e},K=function(e,t){return e>0&&t>0&&1!==e?Math.log(t)/Math.log(e):0},Z=function(e){return Math.sqrt(Math.abs(e))},Q=function(e,t){return e&&!t||!e&&t},Y=function(e,t,n){return e?t:n},$=n(403).a((function(e,t){return Object(W.a)(Object(W.a)({},e),{},{name:t,arity:e.function.length})}))({add:{function:function(e,t){return e+t},toCode:function(e,t){return"(".concat(e," + ").concat(t,")")},onlyFor:["integer","real"]},subtract:{function:function(e,t){return e-t},toCode:function(e,t){return"(".concat(e," - ").concat(t,")")},onlyFor:["integer","real"]},multiply:{function:function(e,t){return e*t},toCode:function(e,t){return"".concat(e," * ").concat(t)},onlyFor:["integer","real"]},divide:{function:function(e,t){return e/t},toCode:function(e,t){return"".concat(e," / ").concat(t)},onlyFor:["integer","real"]},protectedDivide:{function:X,toCode:function(e,t){return"protectedDivide(".concat(e,", ").concat(t,")")},codeAddition:"const protectedDivide = ".concat(X.toString()),onlyFor:["integer","real"]},min:{function:function(e,t){return Math.min(e,t)},toCode:function(e,t){return"Math.min(".concat(e,", ").concat(t,")")},onlyFor:["integer","real"]},max:{function:function(e,t){return Math.max(e,t)},toCode:function(e,t){return"Math.max(".concat(e,", ").concat(t,")")},onlyFor:["integer","real"]},exp:{function:function(e){return Math.exp(e)},toCode:function(e){return"Math.exp(".concat(e,")")},onlyFor:["integer","real"]},pow:{function:function(e,t){return Math.pow(e,t)},toCode:function(e,t){return"Math.pow(".concat(e,", ").concat(t,")")},onlyFor:["integer","real"]},log:{function:function(e,t){return Math.log(t)/Math.log(e)},toCode:function(e,t){return"Math.log(".concat(t,") / Math.log(").concat(e,")")},onlyFor:["integer","real"]},protectedLog:{function:K,toCode:function(e,t){return"protectedLog(".concat(e,", ").concat(t,")")},codeAddition:"const protectedLog = ".concat(K.toString()),onlyFor:["integer","real"]},sin:{function:function(e){return Math.sin(e)},toCode:function(e){return"Math.sin(".concat(e,")")},onlyFor:["integer","real"]},cos:{function:function(e){return Math.cos(e)},toCode:function(e){return"Math.cos(".concat(e,")")},onlyFor:["integer","real"]},sqrt:{function:function(e){return Math.sqrt(e)},toCode:function(e){return"Math.sqrt(".concat(e,")")},onlyFor:["integer","real"]},protectedSqrt:{function:Z,toCode:function(e){return"protectedSqrt(".concat(e,")")},codeAddition:"const protectedSqrt = ".concat(Z.toString()),onlyFor:["integer","real"]},neg:{function:function(e){return-e},toCode:function(e){return"-".concat(e)},onlyFor:["integer","real"]},bitwiseOr:{function:function(e,t){return e|t},toCode:function(e,t){return"(".concat(e," | ").concat(t,")")},onlyFor:["integer"]},bitwiseAnd:{function:function(e,t){return e&t},toCode:function(e,t){return"(".concat(e," & ").concat(t,")")},onlyFor:["integer"]},bitwiseXor:{function:function(e,t){return e^t},toCode:function(e,t){return"(".concat(e," ^ ").concat(t,")")},onlyFor:["integer"]},or:{function:function(e,t){return e|t},toCode:function(e,t){return"(".concat(e," || ").concat(t,")")},onlyFor:["boolean"]},and:{function:function(e,t){return e&&t},toCode:function(e,t){return"(".concat(e," && ").concat(t,")")},onlyFor:["boolean"]},xor:{function:Q,toCode:function(e,t){return"bitwiseXor(".concat(e,", ").concat(t,")")},codeAddition:"const bitwiseXor = ".concat(Q.toString()),onlyFor:["boolean"]},ifThenElse:{function:Y,toCode:function(e,t,n){return"ifThenElse(".concat(e,", ").concat(t,", ").concat(n,")")},codeAddition:"const ifThenElse = ".concat(Y.toString()),onlyFor:["boolean"]},not:{function:function(e){return!e},toCode:function(e){return"!(".concat(e,")")},onlyFor:["boolean"]},equalsNumeric:{function:function(e,t){return e===t?1:0},toCode:function(e,t){return"(".concat(e," === ").concat(t," ? 1 : 0)")},onlyFor:["integer","real"]},gtNumeric:{function:function(e,t){return e>t?1:0},toCode:function(e,t){return"(".concat(e," > ").concat(t," ? 1 : 0)")},onlyFor:["integer","real"]},ltNumeric:{function:function(e,t){return e>t?1:0},toCode:function(e,t){return"(".concat(e," > ").concat(t," ? 1 : 0)")},onlyFor:["integer","real"]},equals:{function:function(e,t){return e===t},toCode:function(e,t){return"(".concat(e," === ").concat(t," ? true : false)")},onlyFor:["boolean"]},gt:{function:function(e,t){return e>t},toCode:function(e,t){return"(".concat(e," > ").concat(t," ? true : false)")},onlyFor:["boolean"]},lt:{function:function(e,t){return e>t},toCode:function(e,t){return"(".concat(e," > ").concat(t," ? true : false)")},onlyFor:["boolean"]}}),ee=n(411),te=n(339).specimenEvaluator,ne=n(340),re=ne.generateTree,oe=ne.mutate,ie=ne.crossover,ae=n(341).assignFitness,ce=function(){function e(){var t=this;Object(V.a)(this,e),this.problemType="real",this.running=!1,this.mode="Fullnt",this.reduxSetters={},this.functions=$,this.inputVariables=[],this.calculateUsableFuncitons(),this.evaluate=te($),this.currentGenerationNumber=0,this.nodePenalty=0,console.log({functions:$}),this.sortingFunction=function(e,n){return isNaN(e.fitness)?1:isNaN(n.fitness)?-1:e.fitness+e.subNodesCount*t.nodePenalty>n.fitness+n.subNodesCount*t.nodePenalty?1:n.fitness+n.subNodesCount*t.nodePenalty>e.fitness+e.subNodesCount*t.nodePenalty?-1:e.subNodesCount>n.subNodesCount?1:n.subNodesCount>e.subNodesCount?-1:0}}return Object(J.a)(e,[{key:"calculateUsableFuncitons",value:function(){var e=this;console.log(this.problemType),this.functionsArray=Object.values($).filter((function(t){return t.onlyFor.includes(e.problemType)})),this.userSelectedFunctions=ee.a(Object.keys(this.functions).filter((function(t){return e.functions[t].onlyFor.includes(e.problemType)})).map((function(e){return Object(q.a)({},e,!0)}))),console.log("test:",this.userSelectedFunctions),console.log(ee.a(Object.keys(this.functions).filter((function(t){return e.functions[t].onlyFor.includes(e.problemType)})).map((function(e){return Object(q.a)({},e,!0)}))))}},{key:"getUserSelectedFunctions",value:function(){return console.log(this.userSelectedFunctions),this.userSelectedFunctions}},{key:"setUserSelectedFunctions",value:function(e){var t=this;this.userSelectedFunctions=ee.a(Object.keys(this.userSelectedFunctions).map((function(t){return Object(q.a)({},t,!!e[t])}))),this.functionsArray=Object.values(this.functions).filter((function(n){return!!e[n.name]&&n.onlyFor.includes(t.problemType)}))}},{key:"setReduxSetters",value:function(e){this.reduxSetters=Object(W.a)(Object(W.a)({},this.reduxSetters),e)}},{key:"setProperty",value:function(e,t){this[e]=t,"problemType"===e&&this.calculateUsableFuncitons(),"nodePenalty"===e&&this.generation&&(this.generation.sort(this.sortingFunction),this.setBestSpecimensRedux(),this.bestSpecimen=Object(H.structuredClone)(this.generation[0]),this.reduxSetters.setBestSpecimen(Object(H.mapSpecimenToStorable)(this.bestSpecimen,this.functions,this.inputVariables)))}},{key:"parsePoints",value:function(){var e={real:function(e){return Number(e)},integer:function(e){return Math.round(Number(e))},boolean:function(e){return["true","1"].includes(e.trim().toLowerCase())}}[this.problemType];this.points=this.pointsRaw.split("\n").map((function(t){var n=t.split(",").map((function(t){return e(t)})),r=n.slice(0,-1),o=n.slice(-1)[0];return Object(W.a)(Object(W.a)({},r.reduce((function(e,t){return{value:Object(W.a)(Object(W.a)({},e.value),{},Object(q.a)({},"x".concat(e.i),t)),i:e.i+1}}),{value:{},i:0}).value),{},{y:o})})),console.log({points:this.points})}},{key:"parseLeaves",value:function(){var e=this,t="boolean"!==this.problemType?this.leavesRaw.split("\n").map((function(t){if((a=t).startsWith("(")&&a.endsWith(")")){var n=t.slice(1,-1).split(",").map((function(e){return Number(e)})),r=Object(b.a)(n,2),o=r[0],i=r[1];return"real"===e.problemType?function(){return Object(H.getRandom)(o,i)}:function(){return Object(H.randomIntInRange)(o,i)}}return function(){return Number(t)};var a})):[!0,!1].map((function(e){return function(){return e}}));this.inputVariables=Object.keys(this.points[0]).filter((function(e){return"y"!==e}));var n=this.inputVariables.map((function(e){return function(){return e}}));this.leavesFunctions=[].concat(Object(L.a)(t),Object(L.a)(n))}},{key:"createGenerationZero",value:function(){var e=this,t=Object(L.a)(Array(this.populationSize).keys()).map((function(){return re("",e.functionsArray,e.leavesFunctions,e.maxTreeDepth)}));t.forEach((function(t){return ae(e.evaluate,e.points,t)})),t.sort(this.sortingFunction),this.generation=t}},{key:"generateNextGeneration",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r,o,i,a,c,u,l,d=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(L.a)(Array(this.populationSize).keys()),n=0;n<t.length;)n<t.length-1&&Object(H.trueWithProbabilty)(this.crossoverProbability)?(r=Object(H.chooseOne)(this.generation,this.tournamentSize),o=Object(H.chooseOne)(this.generation,this.tournamentSize),i=ie(r,o),a=Object(b.a)(i,2),c=a[0],u=a[1],t[n]=c,n++,t[n]=u,n++):(l=Object(H.chooseOne)(this.generation,this.tournamentSize),t[n]=oe(l,this.mode,this.functionsArray,this.leavesFunctions,this.maxTreeDepth),n++),n%5e3===0&&console.log(n);t.forEach((function(e){return ae(d.evaluate,d.points,e)})),t.sort(this.sortingFunction),this.newGeneration=t;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setBestSpecimensRedux",value:function(){var e=this;this.reduxSetters.setBestSpecimens(this.generation.slice(0,10).map((function(t){return Object(H.mapSpecimenToStorable)(t,e.functions,e.inputVariables)})))}},{key:"startAndCreateFirstGeneration",value:function(){this.reduxSetters.setAlgorithmState("RUNNING"),this.parsePoints(),this.parseLeaves(),this.currentGenerationNumber=1,this.reduxSetters.setCurrentGeneration(this.currentGenerationNumber),this.createGenerationZero(),this.bestSpecimen=Object(H.structuredClone)(this.generation[0]),this.reduxSetters.setBestSpecimen(Object(H.mapSpecimenToStorable)(this.bestSpecimen,this.functions,this.inputVariables)),this.setBestSpecimensRedux()}},{key:"createNextGeneration",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.nodePenalty),this.parsePoints(),this.parseLeaves(),this.currentGenerationNumber++,this.reduxSetters.setCurrentGeneration(this.currentGenerationNumber),e.next=7,this.generateNextGeneration();case 7:this.generation=this.newGeneration,this.setBestSpecimensRedux(),t=this.generation[0],1===this.sortingFunction(this.bestSpecimen,t)&&(this.bestSpecimen=Object(H.structuredClone)(t),this.reduxSetters.setBestSpecimen(Object(H.mapSpecimenToStorable)(this.bestSpecimen,this.functions,this.inputVariables)));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"runIfNotFinished",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.parsePoints(),this.parseLeaves(),!(this.currentGenerationNumber>=this.numberOfGenerations)){e.next=4;break}return e.abrupt("return",!0);case 4:if(0!==this.currentGenerationNumber){e.next=8;break}this.startAndCreateFirstGeneration(),e.next=10;break;case 8:return e.next=10,this.createNextGeneration();case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ue(){var e=new ce,t=Object(T.f)().lang;return F.changeLanguage(t),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)(x.a,{container:!0,children:[Object(r.jsx)(x.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(r.jsx)(k,{algorithm:e})}),Object(r.jsx)(x.a,{item:!0,xs:12,sm:6,md:9,lg:10,children:Object(r.jsx)(U,{})})]}),Object(r.jsx)(D,{algorithm:e})]})}var se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,412)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))},le=n(55),be={problemType:"real",populationSize:5e3,desiredGeneration:0,maxTreeDepth:6,tournamentSize:50,crossoverProbability:.2,pointsRaw:Object(L.a)(Array(20).keys()).map((function(e){var t=e/10;return{x:t.toFixed(2),y:(t*t-t).toFixed(2)}})).map((function(e){var t=e.x,n=e.y;return"".concat(t,", ").concat(n)})).join("\n"),leavesRaw:["1","-1","(-10,10)"].join("\n"),functions:{},bestSpecimens:[],bestSpecimen:null,currentGeneration:"0",algorithmState:"BEFORE_RUN",nodePenalty:0},de=["tournamentSize","crossoverProbability","leavesRaw","pointsRaw","nodePenalty"],pe=n(54),fe=n(92),he=Object(le.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_CHANGE":return"RUNNING"!==e.algorithmState||de.includes(t.field)?Object(W.a)(Object(W.a)({},e),{},Object(q.a)({},t.field,t.value)):e;case"SET_FUNCTIONS":return Object(W.a)(Object(W.a)({},e),{},{functions:t.functions});case"SET_FUNCTION":return Object(W.a)(Object(W.a)({},e),{},{functions:Object(W.a)(Object(W.a)({},e.functions),{},Object(q.a)({},t.name,t.value))});case"SET_ALGORITHM_STATE":return Object(W.a)(Object(W.a)({},e),{},{algorithmState:t.value,desiredGeneration:"BEFORE_RUN"===t.value?0:e.desiredGeneration});case"SET_CURRENT_GENERATION":return Object(W.a)(Object(W.a)({},e),{},{currentGeneration:t.value});case"SET_BEST_SPECIMENS":return Object(W.a)(Object(W.a)({},e),{},{bestSpecimens:t.value});case"SET_BEST_SPECIMEN":return Object(W.a)(Object(W.a)({},e),{},{bestSpecimen:t.value});case"SET_DESIRED_GENERAION":return Object(W.a)(Object(W.a)({},e),{},{desiredGeneration:t.value});default:return e}}),Object(fe.composeWithDevTools)());c.a.render(Object(r.jsx)(O.a,{store:he,children:Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(pe.a,{basename:"http://localhost:3000",children:Object(r.jsxs)(T.c,{children:[Object(r.jsx)(T.a,{path:"/:lang",children:Object(r.jsx)(ue,{})}),Object(r.jsx)(T.a,{path:"/",children:Object(r.jsx)(ue,{})}),Object(r.jsx)(T.a,{path:"",children:Object(r.jsx)(ue,{})})]})})})}),document.getElementById("root")),se()},79:function(e){e.exports=JSON.parse('{"populationSize":"Population size","maxTreeDepth":"Max tree depth","tournamentSize":"Tournament size","crossoverProbability":"Crossover probability","pointsWithInfo":"Points (last column is y)","possibleLeaves":"Possible leaves","problemType":"Problem type","real":"Real","integer":"Integer","boolean":"Boolean","createFirstGeneration":"Create first generation","createNextGeneration":"Create next generation","runNGenerations":"Run {{number}} generations","numberOfGenerationsToRun":"Number of generations to run","generation":"Generation","code":"Code","number":"Number","function":"Function","errorSquared":"Error squared","showCode":"Show code","globalBest":"Global best","title":"Genetic programming","restart":"Restart","willBeRestarted":"(algorithm will be restarted with next generation creation)","nodePenalty":"Complexity penalty","createFirstGeneration_tooltip":"Creates a generation of random specimens, resets generation counter to 1","createNextGeneration_tooltip":"","runNGenerations_tooltip":"Runs number of generations specified in the field below","restart_tooltip":"Next created generation will be random and generation counter will be reset","populationSize_tooltip":"Number of specimens in a generation","maxTreeDepth_tooltip":"","tournamentSize_tooltip":"","crossoverProbability_tooltip":"Probability of creating the next specimen(s) by crossover. Otherwise they are created by mutation.","nodePenalty_tooltip":"Value added to fitness for every node (function or value) in equation tree of a function for sorting"}')},80:function(e){e.exports=JSON.parse('{"populationSize":"Wielko\u015b\u0107 populacji","maxTreeDepth":"Maksymalna g\u0142\u0119boko\u015b\u0107 drzewa","tournamentSize":"Wielko\u015b\u0107 turnieju","crossoverProbability":"Prawdopodobie\u0144stwo krzy\u017cowania","pointsWithInfo":"Punkty (ostatnia kolumna to y)","possibleLeaves":"Mo\u017cliwe li\u015bcie","problemType":"Typ problemu","real":"Rzeczywistoliczbowy","integer":"Ca\u0142kowitoliczbowy","boolean":"Boolowski","createFirstGeneration":"Stw\xf3rz pierwsze pokolenie","createNextGeneration":"Stw\xf3rz nast\u0119pne pokolenie","runNGenerations":"Stw\xf3rz {{number}} pokole\u0144","numberOfGenerationsToRun":"Liczba pokole\u0144 do stworzenia","generation":"Pokolenie","code":"Kod","number":"Liczba porz\u0105dkowa","function":"Funkcja","errorSquared":"B\u0142\u0105d^2","showCode":"Poka\u017c kod","globalBest":"Najlepsze w populacji","title":"Programowanie genetyczne","restart":"Restart","willBeRestarted":"(algorytm zostanie ponownie uruchomiony przy tworzeniu kolejnego pokolenia)","nodePenalty":"Kara za skomplikowanie","createFirstGeneration_tooltip":"Tworzy pokolenie losowych osobnik\xf3w, ustawia licznik pokole\u0144 na 1","createNextGeneration_tooltip":"","runNGenerations_tooltip":"Tworzy kolejne pokolenia w liczbie okre\u015blonej poni\u017cej","restart_tooltip":"Nast\u0119pne stworzone pokolenie b\u0119dzie losowo generowane, a licznik pokole\u0144 zostanie ustawiony na 1","populationSize_tooltip":"Liczba osobnik\xf3w w pokoleniu","maxTreeDepth_tooltip":"","tournamentSize_tooltip":"","crossoverProbability_tooltip":"Prawdopodobie\u0144stwo, \u017ce osobnik(cy) zostanie stworzony przez krzy\u017cowanie. Alternatyw\u0105 jest mutacja.","nodePenalty_tooltip":"Warto\u015b\u0107 dodana do b\u0142\u0119du kwadratowego osobnika za ka\u017cdy w\u0119ze\u0142 (funkcj\u0119 lub warto\u015b\u0107) w jego funkcji przy sortowaniu."}')}},[[342,1,2]]]);
//# sourceMappingURL=main.e8027bfc.chunk.js.map